$START \ *********************** \ * BASIC SPACE display * \ * Version 0.0 6/84    * \ ***********************.'SPACE LDX #&FF.L0 JSR OSNEWL LDY #7 \Length of messg.Loop INX LDA Mess,X BEQ L1 JSR OSWRCH DEY BNE Loop.L1 .L2 JSR Space1 \Pad with spaces DEY BNE L2 JSR Printmsg $EQUS "= &" $EQUB 0 INX \Point to byte after 0 LDY Mess,X \Get address of value BMI L4 \End of Messg LDA &1,Y \MSB of Value JSR Hex_asci LDA &0,Y \LSB of Value JSR Hex_asci BNE L0.L4 LDA &18 \PAGE msb JSR Hex_asci LDA #0 JSR Hex_asci JSR Printmsg $EQUB 13 $EQUB 13 $EQUS "Program = " $EQUB 0 LDA &13 \TOP msb SEC SBC &18 \PAGE msb STA &2B LDA &12 \TOP lsb STA &2A JSR OUTIAC \Print prog size JSR Printmsg $EQUS " bytes, (" $EQUB 0 LDA &18 STA &A9 LDA #0 STA &A8 STA &2A STA &2B.L9 LDY #1 LDA (&A8),Y BMI Top INC &2A BNE L10 INC &2B.L10 LDY #3 LDA (&A8),Y CLC ADC &A8 STA &A8 BCC L9 INC &A9 BCS L9.Top JSR OUTIAC JSR Printmsg $EQUS " lines)" $EQUB 13 $EQUB 13 $EQUS "Bytes free = " $EQUB 0 LDA &6 \HIMEM lsb SEC SBC &2 \Vartop lsb STA &2A LDA &7 \HIMEM msb SBC &3 \Vartop msb STA &2B JSR OUTIAC \Print bytes free JSR OSNEWL JMP Alldone.Mess $EQUS "HIMEM" $EQUW &0600 \Addr of HIMEM $EQUS "VARTOP" $EQUW &0200 $EQUS "LOMEM" $EQUW 0 $EQUS "TOP" $EQUW &1200 $EQUS "PAGE" $EQUW &FF00 \End marker$END